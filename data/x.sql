USE QLY_NHAHANG
GO

CREATE TABLE PHIEUDATMON_TRUOC
(
    MaPhieu INT IDENTITY (1, 1) PRIMARY KEY,
    MaDatBan INT,
    CONSTRAINT FK_PHIEUDATMON_TRUOC_DATBAN FOREIGN KEY (MaDatBan) REFERENCES DATBAN(MaDatBan)
);
GO

CREATE TABLE CHONMON_TRUOC
(
    MaPhieu INT,
    MaMon SMALLINT,
    SoLuong INT NOT NULL,

    PRIMARY KEY (MaPhieu),

    CONSTRAINT CK_CHONMON_TRUOC_SOLUONG CHECK (SoLuong > 0),
    CONSTRAINT FK_CHONMON_TRUOC_PHIEUDATMON FOREIGN KEY (MaPhieu) REFERENCES PHIEUDATMON_TRUOC(MaPhieu)
);
GO